# ensure no error is reported if all auditors have not found errors
run
audience
 bob expects always: mood == 'clear'
 alice expects always: mood == 'clear'
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
alice starts auditing
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜˜ good day! come again soon.

# ensure an error is reported if either fails
run error
audience
 bob expects always: mood == 'clear'
 alice expects always: t < 0
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
alice starts auditing
ğŸ˜¿alice (f: checking -> bad)
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜¿alice (f: checking -> bad)
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜± an error has occurred!
run error: alice was disappointed, fouling the play
--
(context of error: play,collector)


# ensure both failures are reported if they occur
run error
audience
 bob expects always: t < 0
 alice expects always: t < 0
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
ğŸ˜¿bob (f: checking -> bad)
alice starts auditing
ğŸ˜¿alice (f: checking -> bad)
ğŸ˜¿bob (f: checking -> bad)
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜¿alice (f: checking -> bad)
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜± an error has occurred!
run error: bob and alice were disappointed, fouling the play
--
(context of error: play,collector)

# ensure an auditor being ignored does not cause an error
run
audience
 bob expects always: t < 0
 alice expects always: mood == 'clear'
end
interpretation
 ignore bob disappointment
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
ğŸ˜¿bob (f: checking -> bad)
alice starts auditing
ğŸ˜¿bob (f: checking -> bad)
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜˜ good day! come again soon.

# ensure that an auditor being ignored still leaves another auditor to cause an error
run error
audience
 bob expects always: t < 0
 alice expects always: t < 0
end
interpretation
 ignore bob disappointment
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
ğŸ˜¿bob (f: checking -> bad)
alice starts auditing
ğŸ˜¿alice (f: checking -> bad)
ğŸ˜¿bob (f: checking -> bad)
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜¿alice (f: checking -> bad)
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜± an error has occurred!
run error: alice was disappointed, fouling the play
--
(context of error: play,collector)

# check for disappointment
run
audience
 bob expects always: t < 0
 alice expects always: mood == 'clear'
end
interpretation
 require bob disappointment
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
ğŸ˜¿bob (f: checking -> bad)
alice starts auditing
ğŸ˜¿bob (f: checking -> bad)
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜˜ good day! come again soon.

# it's an error if disappointment was required but was not found
run error
audience
 bob expects always: mood == 'clear'
 alice expects always: mood == 'clear'
end
interpretation
 require bob disappointment
end
----
ğŸ¶ the play is starting; expected duration: 0s
bob starts auditing
alice starts auditing
ğŸ˜ºbob (end: checking -> good)
ğŸ™ˆbob stops auditing
ğŸ˜ºalice (end: checking -> good)
ğŸ™ˆalice stops auditing
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ˜± an error has occurred!
run error: bob was never disappointed, fouling the play
--
(context of error: play,collector)
