# Check that multiple actions are executed in order.
run
role test
  :a true
  :b true
end
cast
  test plays test
end
script
  tempo .1s
  scene A entails for test: a; b
  storyline A
end
----
ğŸ‘ please welcome a cast of 1 actors, playing 1 roles
ğŸ­ dramatis personÃ¦: test
ğŸ¶ the play is starting; expected duration: 100ms
ğŸ¬ act 1 starts
ğŸ“¢ act 1, scene 1:
ğŸ¥     test: a!
ğŸ¥     test: b!
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ§¹ no foul, removing artifacts: .../results/artifacts
ğŸ“ result files in .../results
  â””â”€ csv
     â””â”€ test.csv
ğŸ˜˜ good day! come again soon.


# Check that action failure is detected.
run error
role test
  :a exit 123
end
cast
  test plays test
end
script
  tempo .1s
  scene a entails for test: a
  storyline a
end
----
ğŸ‘ please welcome a cast of 1 actors, playing 1 roles
ğŸ­ dramatis personÃ¦: test
ğŸ¶ the play is starting; expected duration: 100ms
ğŸ¬ act 1 starts
ğŸ“¢ act 1, scene 1:
ğŸ¥     test: a!
ğŸ˜ action test:a failed (see below for details)
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ“ result files in .../results
  â”œâ”€ artifacts
  â”‚  â””â”€ test
  â”‚     â”œâ”€ a.log
  â”‚     â””â”€ actions
  â”‚        â””â”€ a.sh
  â””â”€ csv
     â””â”€ test.csv
ğŸ˜± an error has occurred!
run error: prompt: action test:a failed: exit status 123
output redirected to .../results/artifacts/test/a.log
--
(context: play,prompter,act=1,scene=1,actor=test,role=test,step=1)


# Check that action failure can be tolerated
run
role test
  :a exit 123
end
cast
  test plays test
end
script
  tempo .1s
  scene a entails for test: a?
  storyline a
end
----
ğŸ‘ please welcome a cast of 1 actors, playing 1 roles
ğŸ­ dramatis personÃ¦: test
ğŸ¶ the play is starting; expected duration: 100ms
ğŸ¬ act 1 starts
ğŸ“¢ act 1, scene 1:
ğŸ¥     test: a?
ğŸ¤¨ action test:a failed (see log for details)
ğŸ‘ the play is terminating
ğŸ§¹ the stage has been cleared
ğŸ§¹ no foul, removing artifacts: .../results/artifacts
ğŸ“ result files in .../results
  â””â”€ csv
     â””â”€ test.csv
ğŸ˜˜ good day! come again soon.
