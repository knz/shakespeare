parse
role empty
end
----
role empty
end
# no cast defined
script
  tempo 1s
  # no stanzas defined, play will terminate immediately
end
# no audience defined



parse
role simple
  :act :
end
----
role simple
  :act :
end
# no cast defined
script
  tempo 1s
  # no stanzas defined, play will terminate immediately
end
# no audience defined


parse
role simple
  :act :
end
role other extends simple
  :woo :
end
----
role simple
  :act :
end
role other
  :act :
  :woo :
end
# no cast defined
script
  tempo 1s
  # no stanzas defined, play will terminate immediately
end
# no audience defined


parse
role unknowndir
  woot
end
----
parse error: <testdata>:2: unknown syntax
--
while parsing:
<testdata>:1     role unknowndir
<testdata>:2   >   woot



parse
role samename
end
role samename
end
----
parse error: duplicate role definition: "samename"


parse
role dupact
  :act foo
  :act bar
end
----
parse error: <testdata>:3: duplicate action name: "act"
--
while parsing:
<testdata>:1     role dupact
<testdata>:2       :act foo
<testdata>:3   >   :act bar


parse
role dupsig
  signal foo event at (?P<ts_now>)(?P<event>.*)
  signal foo event at (?P<ts_now>)(?P<event>.*)
end
----
parse error: <testdata>:3: duplicate signal name: "foo"
--
while parsing:
<testdata>:1     role dupsig
<testdata>:2       signal foo event at (?P<ts_now>)(?P<event>.*)
<testdata>:3   >   signal foo event at (?P<ts_now>)(?P<event>.*)
